---
title: Git特色-Branch
date: 2017-10-16 14:14:09
tags:
---

cheap local branching, convenient staging areas, and multiple workflows

# Git 分支 和 gitFlow 工作流

Git 三大特色：分支, 暂存, 多工作流。其中因为有分支的存在，才构成了多工作流的特色，所以 Branch 不愧为 Git 的王牌特色。这篇博客，主要和大家一起学习一下轻若鸿毛，帅到炸裂的分支儿。

# Branch 的概念再来说一遍

Git 的分支，其实本质上仅仅是指向提交对象的可变指针。 Git 的默认分支名字是 master。 在多次提交操作之后，你其实已经有一个指向最后那个提交对象的 master 分支。 它会在每次的提交操作中自动向前移动。


# 玩转 Branch 必备技能

有关分支的命令不多，无非是换着花样的增删改查，掌握好以下基本的命令，以后就可以在 Branch 的草原上策马奔腾潇潇洒洒啦

### 创建分支

```
 git branch <name>
```
这个命令看起来，似乎简单到你只需要想个分支的名字就好了。  
但是在创建分支的时候，要想下，是否要从当前分支的内容基础上去开辟一条新分支。


### 查看分支

三个命令，让你想看什么分支就看什么分支，就是这么方便
```
 git branch //查看本地分支
 git branch -r //查看远程分支
 git branch -a //查看本地和远程的所有分支
```



### 删除分支

当本地分支删除后，推动到远程仓库后，远程仓库并不能自动删除远程分支（原因，下回分解）。所以，分支的完全删除是分两个部分的，一个是本地，一个是远程。

本地删除操作需要加上 `-d`或者 `-D` 参数，参数的名称来自英语 `delete`的缩写，Remember it So easy!

两者的区别在于`-D`比`-d`要粗暴一点。当被删除分支有新内容没有被合并的时候，使用`-D`，会直接删除， 使用`-d`，会提示该分支有新内容没有被合并，不执行删除。删除需谨慎，建议非特殊情况下，使用温柔的`-d`要好一点，以免小手一抖，眼泪长流。

```
 git branch -d <name>
 git branch -D <name> //强制删除

```

删除远程分支需要 push 操作。

```
git push origin :<name>
```


### 重命名分支
其实，这是个伪命题。  

但是有很多人，包括我，都有过对分支名称不满意想该修改一下的想法，所以，就有了这个伪命题的存在。

事实上，分支不存在重命名，没有 rename 的这个命令。如果你起的名字不满意，想重新起的话，那只要创建一个和要修改分支内容一样的分支，起上你喜欢的名字，然后再把之前的给删掉。


### 检出分支

这个检出分支的“检出”二字，算是个关于 Git 分支的专业术语了,你可以理解为切换当前分支。  
使用场景有两个：   
1. 已经存在的分支，现在要切换过去。
```
 git checkout <name>
```   
2. 创建一个新分支，并切换到新分支，这个一步到位的话需要 `-b ` 参数。

     以当前分支为基础，创建一个新分支

    ```
    git checkout -b <branch name>
    ```
    以指定的某一个提交，创建一个新分支

    ```
    git checkout -b <branch name> <SHA1>
    ```

### 合并分支

以上，是分支的增删改查独立操作，但是 Git 创造这个分支，并不只是为了让它们自个儿和自个儿玩的，还需要它们之间的相互协作和配合。  就像写项目的时候，分好开发任务，你和你的小伙伴新建了两个分支，你写你的 Anglela，他写他的 baby,到开发完成之后，肯定要合在一起，才能成就 Anglelababy。合的这个动作，就涉及到了分支合并的概念。
